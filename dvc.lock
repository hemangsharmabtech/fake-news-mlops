schema: '2.0'
stages:
  data_ingestion_rf:
    cmd: python src/stages/rf/data_ingestion_rf.py
    deps:
    - path: data/raw/Fake.csv
      hash: md5
      md5: 64739472028dc449a28cb129bb9fb5b9
      size: 26685921
    - path: data/raw/True.csv
      hash: md5
      md5: 5dc3f1f5ead42e9ce1cfedbb13999d07
      size: 25013428
    - path: src/stages/rf/data_ingestion_rf.py
      hash: md5
      md5: 476b11a747d22444c480f97512b1d462
      size: 2430
    params:
      params.yaml:
        rf.data.random_state: 42
        rf.data.sample_size_per_class: 10000
        rf.data.test_size: 0.2
    outs:
    - path: data/processed/rf/test_data.joblib
      hash: md5
      md5: 56e28e1d5147a6e848ac98e72c4182ad
      size: 20584881
    - path: data/processed/rf/train_data.joblib
      hash: md5
      md5: ae0ada60f0a7a048d775156d670424e3
      size: 82779329
  feature_engineering_rf:
    cmd: python src/stages/rf/feature_engineering_rf.py
    deps:
    - path: data/processed/rf/test_data.joblib
      hash: md5
      md5: 56e28e1d5147a6e848ac98e72c4182ad
      size: 20584881
    - path: data/processed/rf/train_data.joblib
      hash: md5
      md5: ae0ada60f0a7a048d775156d670424e3
      size: 82779329
    - path: src/stages/rf/feature_engineering_rf.py
      hash: md5
      md5: a07e921785b52ad17df26deb07333974
      size: 3003
      isexec: true
    params:
      params.yaml:
        rf.featurize.max_features: 5000
        rf.featurize.ngram_range:
        - 1
        - 2
    outs:
    - path: data/features/rf/X_test_tfidf.joblib
      hash: md5
      md5: a8b0aa00edb54ab0214cb25e6ca6f044
      size: 6536155
    - path: data/features/rf/X_train_tfidf.joblib
      hash: md5
      md5: e78fb9bc7627b58b0439b32712735578
      size: 26358219
    - path: data/features/rf/vectorizer.joblib
      hash: md5
      md5: 82c3b02778f55ebf038e5b8bbe4827f0
      size: 189126
  train_rf_model:
    cmd: python src/stages/rf/train_rf.py
    deps:
    - path: data/features/rf/X_train_tfidf.joblib
      hash: md5
      md5: e78fb9bc7627b58b0439b32712735578
      size: 26358219
    - path: data/processed/rf/train_data.joblib
      hash: md5
      md5: ae0ada60f0a7a048d775156d670424e3
      size: 82779329
    - path: src/stages/rf/train_rf.py
      hash: md5
      md5: d34665c872349e12ab4338dc42169941
      size: 1723
      isexec: true
    params:
      params.yaml:
        rf.train.max_depth:
        rf.train.n_estimators: 100
        rf.train.n_jobs: -1
        rf.train.random_state: 42
    outs:
    - path: models/rf/rf_fake_news_model.joblib
      hash: md5
      md5: 6516a97ca91583840e9f5104b5c32a5b
      size: 13035897
  evaluate_rf_model:
    cmd: python src/stages/rf/evaluate_rf.py
    deps:
    - path: data/features/rf/X_test_tfidf.joblib
      hash: md5
      md5: a8b0aa00edb54ab0214cb25e6ca6f044
      size: 6536155
    - path: data/processed/rf/test_data.joblib
      hash: md5
      md5: 56e28e1d5147a6e848ac98e72c4182ad
      size: 20584881
    - path: models/rf/rf_fake_news_model.joblib
      hash: md5
      md5: 6516a97ca91583840e9f5104b5c32a5b
      size: 13035897
    - path: src/stages/rf/evaluate_rf.py
      hash: md5
      md5: eaf45d307de9c04f8131d770ff0191c3
      size: 2871
      isexec: true
    outs:
    - path: metrics/rf/metrics.json
      hash: md5
      md5: 386cce109440a3ed4459e32e5813ab34
      size: 373
